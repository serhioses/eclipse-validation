!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("eclipse"),require("jquery"));else if("function"==typeof define&&define.amd)define(["eclipse","jquery"],t);else{var n="object"==typeof exports?t(require("eclipse"),require("jquery")):t(e.eclipse,e.jQuery);for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,function(e,t){return function(e){function t(a){if(n[a])return n[a].exports;var l=n[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";function a(){$(".ev-notice").remove()}function l(e){e.remove()}function i(e,t,n,a){var l=$("<div/>");n.length&&!$("#"+e).length&&(l.attr("id",e),l.text(a).addClass("ev-notice "+t).appendTo(n.closest(".ev-notice-parent")),setTimeout(function(){l.addClass("ev-notice--active")},4))}Object.defineProperty(t,"__esModule",{value:!0}),t.hideAllNotices=a,t.hideNotice=l,t.showNotice=i},function(t,n){t.exports=e},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t.length&&e.length?RegExp(e,"g"+(n?"i":"")).test(t):null}function r(e){return i(L,e.toLowerCase())}function o(){var e=this;this._defaults.names.forEach(function(t){e.elements[t]=e.form.find('[name="'+t+'"]')})}function s(e){return"select-one"===e[0].type?!!e.val()&&"unselectable"!==e.val():"select-multiple"===e[0].type?!!e.val().length&&"unselectable"!==e.val()[0]:"radio"!==e[0].type&&("checkbox"===e[0].type?!!e.filter(":checked").length:!!e.val())}function c(e,t){var n=this,a=this._defaults;return a.names.filter(function(t){var l=n.elements[t];return a.rules[t].group===e&&!l.hasClass("ev-valid-item")&&!a.groups[e].marked[t]&&(a.groups[e].marked[t]=!0,s(l))})}function u(e,t){for(var n=0;n<I.length;n+=1){var a=I[n],l=void 0;if(!e.is(":disabled")&&p[a]&&void 0!==t[a]&&(l=p[a](e,t[a],t.options||{}),!l.value))return l}return{value:!0}}function d(e,t,n,a){var l,i=this,r={},o=this._defaults;if(!o.stopOnInvalid||!this.isStopped)if(n||(n=this._defaults.names.filter(function(t){return o.rules[t].group===e})),n.forEach(function(e){var n=o.rules[e],a=u.call(i,i.elements[e],n);r[e]=a,a.value?(t.countValid+=1,i.elements[e].data("ev-possibly-valid",!0)):i.elements[e].data("ev-possibly-error",!0)}),t.checked=!0,t.countValid>=t.requiredFields&&!a)t.isValid=!0,n.forEach(function(e){i.elements[e].data("ev-possibly-valid")&&(i.elements[e].addClass("ev-valid-item"),o.onSetValid())});else{this.e.preventDefault();try{n.forEach(function(e){if(i.elements[e].data("ev-possibly-error")){if(i.isFormValid=!1,i.elements[e].addClass("ev-invalid-item"),l=o.messages[e]&&o.messages[e][r[e].parameter],l&&o.showNotice&&((0,m.showNotice)("notice-"+Math.random()+"-"+C,"",i.elements[e],l),C+=1),o.onSetInvalid(),i.firstInvalidField?o.setFocus&&i.firstInvalidField.focus():(i.firstInvalidField=i.elements[e],i.firstInvalidField.addClass("ev-invalid-item--first"),o.scrollToInvalid&&y.default.DOM.scrollPage(i.firstInvalidField.closest(".ev-notice-parent"),o.scrollCorrection,o.scrollOptions).then(function(){o.setFocus&&i.firstInvalidField.focus(),o.afterScroll()})),o.stopOnInvalid)throw i.isStopped=!0,Error()}else i.elements[e].addClass("ev-valid-item")})}catch(e){o.onStopOnInvalid()}}}function f(){var e=this;try{this._defaults.names.forEach(function(t){var n,a,l,i,r=e._defaults,o=r.rules[t],f=!0;if(void 0!==o.group)a=r.groups[o.group],a.isValid||a.checked?a.isValid&&(l=c.call(e,o.group,a),l.length&&d.call(e,o.group,a,l,!0)):d.call(e,o.group,a);else if(o.checkIfChanged&&(s(e.elements[t])||(f=!1)),n=u.call(e,e.elements[t],o),!n.value&&f){if(e.isFormValid=!1,r.stopOnInvalid&&e.isStopped)throw Error();if(e.e.preventDefault(),e.elements[t].addClass("ev-invalid-item"),i=r.messages[t]&&r.messages[t][n.parameter],i&&r.showNotice&&((0,m.showNotice)("notice-"+Math.random()+"-"+C,"",e.elements[t],i),C+=1),r.onSetInvalid(),e.firstInvalidField||(e.firstInvalidField=e.elements[t],e.firstInvalidField.addClass("ev-invalid-item--first"),r.scrollToInvalid?y.default.DOM.scrollPage(e.firstInvalidField.closest(".ev-notice-parent"),r.scrollCorrection,r.scrollOptions).then(function(){r.setFocus&&e.firstInvalidField.focus(),r.afterScroll()}):r.setFocus&&e.firstInvalidField.focus()),r.stopOnInvalid)throw e.isStopped=!0,Error()}else e.elements[t].addClass("ev-valid-item"),r.onSetValid()})}catch(e){defaults.onStopOnInvalid()}}function v(){this._defaults.groups.forEach(function(e){e.isValid=!1,e.countValid=0,e.checked=!1,e.marked={}})}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.isPattern=i,t.isEmail=r;var p,m=n(0),g=n(1),y=a(g),b=n(4),k=a(b),L="^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$",I=["minLength","maxLength","pattern","checked","selected","equalTo"],x=[],C=0;p={minLength:function(e,t){return{value:e.val().length>=t,parameter:"minLength"}},maxLength:function(e,t){return{value:e.val().length<=t,parameter:"maxLength"}},pattern:function(e,t,n){return this[t]?{value:this[t](e),parameter:"pattern"}:{value:i(t,e.val(),n.ignoreFlag),parameter:"pattern"}},equalTo:function(e,t){return{value:e.val()===(0,k.default)(t).val(),parameter:"equalTo"}},string:function(e){return e.val().length},email:function(e){return r(e.val())},number:function(e){return!isNaN(parseFloat(e.val()))&&isFinite(parseFloat(e.val()))},checked:function(e,t,n){var a=0;return"radio"===e[0].type?{value:1===e.filter(":checked").length,parameter:"checked"}:(e.each(function(){(0,k.default)(this).prop("checked")===t&&(a+=1)}),n.checkedLength?{value:a===n.checkedLength,parameter:"checkedLength"}:n.minCheckedLength&&(a<n.minCheckedLength||!a)?{value:!1,parameter:"minCheckedLength"}:n.maxCheckedLength&&(a>n.maxCheckedLength||!a)?{value:!1,parameter:"maxCheckedLength"}:n.minCheckedLength&&n.maxCheckedLength&&(a<n.minCheckedLength||a>n.maxCheckedLength)?{value:!1,parameter:"rangeCheckedLength"}:{value:a>0,parameter:"checked"})},selected:function(e,t,n){var a=0;return"select-one"===e[0].type?{value:!!e.val()&&"unselectable"!==e.val(),parameter:"selected"}:(e.find("option").each(function(){(0,k.default)(this).prop("selected")&&!(0,k.default)(this).prop("disabled")&&"unselectable"!==(0,k.default)(this).val()&&(a+=1)}),n.selectedLength?{value:a===n.selectedLength,parameter:"selectedLength"}:n.minSelectedLength&&(a<n.minSelectedLength||!a)?{value:!1,parameter:"minSelectedLength"}:n.maxSelectedLength&&(a>n.maxSelectedLength||!a)?{value:!1,parameter:"maxSelectedLength"}:n.minSelectedLength&&n.maxSelectedLength&&(a<n.minSelectedLength||a>n.maxSelectedLength)?{value:!1,parameter:"rangeSelectedLength"}:{value:a>0,parameter:"selected"})}};var F=function(){function e(t,n){l(this,e);var a=Object.create(null);a.rules={},a.names=[],a.groups=[],a.messages={},a.scrollToInvalid=!0,a.scrollCorrection=0,a.scrollOptions={},a.showNotice=!0,a.stopOnInvalid=!0,a.setFocus=!0,a.onSetValid=k.default.noop,a.onSetInvalid=k.default.noop,a.afterScroll=k.default.noop,a.onStopOnInvalid=k.default.noop,"Object"===y.default.helpers.getClass(n)&&k.default.extend(!0,a,n),this.elements={},this.form=t,this.firstInvalidField=null,this.isFormValid=!0,Object.defineProperty(this,"_defaults",{get:function(){return a}}),o.call(this),this.form.attr("novalidate","novalidate"),x.push(this)}return h(e,[{key:"validate",value:function(e){var t=this;return this.e=e,this.isStopped=!1,this.isFormValid=!0,(0,m.hideAllNotices)(),Object.keys(this.elements).forEach(function(e){t.elements[e].removeClass("ev-invalid-item ev-valid-item").data("ev-possibly-error","").data("ev-possibly-valid","")}),this.firstInvalidField=null,this._defaults.groups.length&&v.call(this),f.call(this),this.isFormValid}}],[{key:"delegateSubmit",value:function(t){var n=e.findInstance(t);if(n)return n.validate(t)}},{key:"findInstance",value:function(t){var n=(0,k.default)(t.target).closest("[data-ev-form]");if(n.length)return e.instances().filter(function(e){return e.form.attr("id")===n.attr("id")})[0]}},{key:"instances",value:function(){return x}},{key:"extendValidationProps",value:function(e){e.forEach(function(e){y.default.helpers.inArray(I,e.name)||Object.prototype.hasOwnProperty.call(p,e.name)||(I.push(e.name),p[e.name]=e.value)})}}]),e}();t.default=F},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var l=n(1),i=a(l),r=n(2),o=a(r),s=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s);i.default.utils.namespace("forms"),i.default.utils.namespace("forms.notice"),i.default.forms.Validation=o.default,i.default.forms.notice=c},function(e,n){e.exports=t}])});